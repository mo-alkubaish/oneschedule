{"version":3,"sources":["data/index.ts","utils/colors.ts","utils/config.ts","utils/course.ts","components/Schedule/Calendar.js","store/selectors.ts","store/selectedCoursesSlice.ts","components/Schedule/ColorPicker.js","components/Schedule/SelectedCourses.js","components/Schedule/Searcher.js","components/Schedule/ExportCalendar.js","components/Schedule/ExternalExporter.js","components/Schedule/InfoBar.js","components/Schedule/index.js","components/utils/AddDropBtn.js","components/Offerings/TableView.js","components/Offerings/GalleryView.js","components/Offerings/Filter.jsx","hooks/index.ts","components/Offerings/index.js","components/Offerings/OneCourse.js","components/About/Contributors.tsx","components/About/index.tsx","components/utils/CTA.js","components/Contribute/index.tsx","components/layout/Main.tsx","components/layout/Footer.tsx","store/termSlice.ts","utils/term.ts","components/utils/TermSwitch.js","components/layout/TopNav.tsx","components/App.js","store/index.ts","utils/localStorage.ts","index.js"],"names":["courseData","Fall2022","Spring2023","availableTerms","getTextColor","bg","backgroundColor","rgb","parseInt","slice","Math","round","getRarestColor","colors","freq","COLORS","forEach","color","filter","_color","length","ret","config","last_updated","currentTerm","MAJORS","value","label","CATEGORIES","map","s","LEVELS","level","getCourse","id","matches","reduce","courses","thisTerm","concat","course","getSchedule","schedule","day","start_time","end_time","join","getNotes","description","split","getCategories","categories","getDescription","des","indexOf","isSelected","selected","Calendar","selectedCourses","useState","scheduleOverlap","setScheduleOverlap","dayId","events","visible","info","blocks","block","title","instructor","daysOfWeek","startTime","endTime","textColor","getTimeblocks","getSeconds","stringTime","nums","overlapDeteced","course1","course2","courseA","courseB","daysOverlap","day1","day2","startA","endA","startB","endB","overlap","console","log","plugins","timeGridPlugin","initialView","slotMinTime","slotMaxTime","scrollTime","hiddenDays","expandRows","allDaySlot","headerToolbar","start","center","end","dayHeaderFormat","weekday","selectTerm","state","term","selectCurrentTerm","selectCurrentSelectedCourseIds","includes","createSlice","name","initialState","reducers","toggleSelection","action","payload","push","toggleVisibility","setColor","actions","ColorPicker","courseId","changing","setChanging","useSelector","dispatch","useDispatch","className","style","onClick","sort","onChangeComplete","hex","width","triangle","CreditCount","credits","preValue","curValue","courseInfo","val","SelectedCourses","a","b","localeCompare","to","Searcher","setFilter","focusItem","setFocusItem","matchedCourses","nVisibleCourses","collapseSuggestions","changeText","document","getElementById","handleShortcuts","event","key","useEffect","window","addEventListener","removeEventListener","text","onCourseToggle","CourseInfo","CourseList","toLowerCase","min","isFocused","placeholder","autoComplete","onChange","target","onKeyDown","time_location","short_days","num_days","downloadCalendar","cur_term_info","list_of_events","start_date_term","Date","end_date_term","each_courses","course_info","course_schedule","course_title","same_time","each_slot","start_time_day","end_time_day","each_time","meet_day","first_day","getFullYear","getMonth","getUTCDate","toISOString","first_session_start","first_session_end","repeat_date","each_meet_day","current_event","time_stamp","timezone","summary","repeating","until","byDay","cal","ical","blob","filename","link","createElement","navigator","msSaveOrOpenBlob","objectUrl","URL","createObjectURL","download","href","dispatchEvent","MouseEvent","revokeObjectURL","downloadUrl","Blob","toString","type","ExportCalendar","props","trimesterInfo","ExternalExporter","InfoBar","calendarRef","componentRef","Schedule","currentCourseSelection","useRef","Helmet","ref","AddDropBtn","preStatus","toast","success","autoClose","TableView","filteredCourses","CourseCard","GalleryView","Filter","instructors","index","self","options","isMulti","majorFilter","setMajorFilter","setInstructorFilter","instructorFilter","setLevelFilter","levelFilter","setCategoryFilter","categoryFilter","usePersistedState","defaultValue","tmp","localStorage","getItem","JSON","parse","setState","setItem","stringify","Offerings","compact","setCompact","oneFilter","filterList","getDetail","manyToMany","matchers","obj","matcher","head","search","getMajor","getLevel","getFilteredCourses","GalleryToggle","htmlFor","role","moment","fromNow","OneCourse","useParams","OneStop","url","Row","header","content","location","Contributor","contributor","src","avatar_url","alt","html_url","login","contributions","Contributors","contributors","setContributors","axios","get","then","res","data","About","frameBorder","allow","allowFullScreen","CTA","Contribute","Main","path","Footer","set","forward","pos","backward","prettyTerm","mid","TermSwitch","termId","getTermId","isFirst","isLast","disabled","NavLink","icon","isNew","isCurrentView","useLocation","pathname","RedDot","height","top","TopNav","App","store","configureStore","reducer","selectedCoursesReducer","termReducer","preloadedState","serialisedState","e","warn","loadFromLocalStorage","ReactDOM","render","StrictMode","subscribe","saveToLocalStorage","getState"],"mappings":"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","file":"static/js/main.25dc924f.chunk.js","sourcesContent":["import COLORS from './colors.json'\nimport Fall2022 from './2022-2023 Fall 2022 Term.json'\nimport Spring2023 from './2022-2023 Spring 2023 Term.json'\n\nexport interface Course {\n    title: string;\n    id: string;\n    credits: string | null;\n    instructor: string;\n    url: string;\n    description: string;\n    categories: string[];\n    schedule: {\n        day: string;\n        start_time: string;\n        end_time: string;\n    }[];\n    location?: string;\n}\n\nconst courseData: {[key: string]: Course[]} = {Fall2022, Spring2023}\nconst availableTerms: string[] = ['Fall2022', 'Spring2023']\n\nexport {COLORS, courseData, availableTerms}","import {COLORS} from '../data'\n\n// Return an appropriate text color (black/white)\n// based on background color\nexport const getTextColor = (bg: string) => {\n  const backgroundColor = (bg ? bg : '#000000')\n\n  const rgb = [\n    parseInt(backgroundColor.slice(1, 3), 16),\n    parseInt(backgroundColor.slice(3, 5), 16),\n    parseInt(backgroundColor.slice(5, 7), 16),\n  ]\n  const brightness = Math.round(((rgb[0] * 299) +\n  (rgb[1] * 587) +\n  (rgb[2] * 114)) / 1000);\n  return (brightness > 125) ? 'black' : 'white'\n}\n\n// export const getRandomColor = () => {\n//   const colorId = Math.floor(Math.random() * COLORS.length)\n//   return COLORS[colorId]\n// }\n\nexport const getRarestColor = (colors: Array<string>) => {\n  const freq: {[key: string]: number} = {}\n  COLORS.forEach(color => {\n    freq[color] = colors.filter(_color => _color === color).length\n  })\n\n  let ret: string = COLORS[0]\n  COLORS.forEach((color) => {\n    if (freq[color] < freq[ret]) {\n      ret = color\n    }\n  })\n  return ret\n}","const config =  {\n    last_updated: '2023-01-11 09:03+07',\n    currentTerm: 'Spring2023'\n}\n\nexport default config\n","// import { GroupBase, Options } from \"react-select\"\nimport { availableTerms, Course, courseData } from \"../data\"\nimport config from './config'\n\nexport const MAJORS = [\n  {value: 'ARTS', label: 'Arts and Media'},\n  {value: 'CORE', label: 'Core'},\n  {value: 'CS', label: 'Computer Science'},\n  {value: 'ECON', label: 'Economics'},\n  {value: 'ENG', label: 'Engineering'},\n  {value: 'FRE', label: 'French'},\n  {value: 'HIS', label: 'History'},\n  {value: 'IS', label: 'Integrated Science'},\n  {value: 'LIT', label: 'Literature'},\n  {value: 'MATH', label: 'Mathematics'},\n  {value: 'PSY', label: 'Psychology'},\n  {value: 'SOCI', label: 'Social Sciences'},\n  {value: 'VS', label: 'Vietnamese Studies'},\n]\n\nexport const CATEGORIES = ['Core', 'E1', 'E2', 'E3', 'E4', 'C1', 'C2', 'C3', 'C4', 'Seminar', 'EL']\n  .map(s => ({label: s, value: s}))\n\nexport const LEVELS = ['100', '200', '300'].map(\n  level => ({label: level, value: level})\n)\n\nexport const getCourse = (id: string) => {\n  const allCourses: Course[] = availableTerms.reduce(\n    (courses, thisTerm) => {\n      return courses.concat(courseData[thisTerm])\n    }, \n    [] as Course[]\n  )\n  const matches = allCourses.filter(course => {\n    return course.id === id\n  })\n  if (matches.length > 0) {\n    return matches[0]\n  } else {\n    return null\n  }\n}\n\nexport const getMajor = (id: string) => {\n  const head = id.slice(0, id.indexOf('_'))\n  const split = head.search(/\\d/g)\n  return head.slice(0, split)\n}\n\nexport const getLevel = (id: string) => {\n  const head = id.slice(0, id.indexOf('_'))\n  const split = head.search(/\\d/g)\n  return head[split] + '00'\n}\n\n// export const getDates = (course) => `${course.start_date} - ${course.end_date}`\n\nexport const getSchedule = (course: Course) => course.schedule\n  .map(({day, start_time, end_time}) => `${day} ${start_time} - ${end_time}`)\n  .join('\\n')\n\nexport const getNotes = (course: Course) => course.description.split('---')[0]\n\nexport const getCategories = (course: Course) => course.categories.join(', ')\n\nexport const getDescription = (course: Course) => {\n  const des = course.description\n  const split = des.indexOf('---')\n  return des.slice(split + 4)\n}\n\nexport const isSelected = (selected: Array<Course>, id: string) => \n  (selected.filter(course => course.id === id).length > 0)\n\nexport const getRandomCourses = (n: number) => {\n  const courses = courseData[config.currentTerm]\n  const total = courses.length\n  if (n > total) {\n    throw new RangeError(\"Requesting more elements than available.\")\n  }\n  const chosen: string[] = []\n  while (n--) {\n    const available = courses.filter(course => !chosen.includes(course.id))\n    const id = Math.floor(Math.random() * available.length)\n    chosen.push(courses[id].id)\n  }\n  return chosen\n}","import FullCalendar from '@fullcalendar/react'\nimport timeGridPlugin from '@fullcalendar/timegrid';\nimport { useState } from 'react';\nimport { getTextColor } from '../../utils/colors';\nimport { getCourse } from '../../utils/course';\nimport './Calendar.scss'\n\nconst Calendar = ({selectedCourses}) => {\n  const [ scheduleOverlap, setScheduleOverlap ] = useState(false)\n  \n  const dayId = {\n    'Sunday': 0,\n    'Monday': 1,\n    'Tuesday': 2,\n    'Wednesday': 3,\n    'Thursday': 4, \n    'Friday': 5,\n    'Saturday': 6,\n  }\n\n  const getTimeblocks = (course) => {\n\n    return course.schedule.reduce((blocks, block) => blocks.concat({\n      title: `${course.title} (${course.instructor})`,\n      daysOfWeek: [dayId[block.day]],\n      startTime: block.start_time,\n      endTime: block.end_time,\n      backgroundColor: course.color,\n      textColor: getTextColor(course.color),\n    }), [])\n  }\n\n  const visibleCourses = selectedCourses\n  .filter(course => course.visible)\n  .map(course => {\n      const info = getCourse(course.id)\n      return {...info, color: course.color}\n    })\n  \n  const events = visibleCourses\n    .reduce((events, course) => events.concat(getTimeblocks(course)), [])\n\n  const getSeconds = (stringTime) => {\n    const nums = stringTime.split(/[:]+/)\n    return (nums[0] * 24 + nums[1]) * 60 + nums[2]\n  }\n\n  const overlap = (courseA, courseB) => {\n    let daysOverlap = false\n    courseA.daysOfWeek.forEach((day1) => {\n      courseB.daysOfWeek.forEach((day2) => {\n        if (day1 && day2 && day1 === day2) {\n          daysOverlap = true\n        }\n      })\n    })\n    if (!daysOverlap) {\n      return false\n    }\n    const startA = getSeconds(courseA.startTime)\n    const endA = getSeconds(courseA.endTime)\n    const startB = getSeconds(courseB.startTime)\n    const endB = getSeconds(courseB.endTime)\n\n    return !((endA <= startB) || (endB <= startA))\n  }\n  let overlapDeteced = false;\n  \n  events.forEach((course1) => {\n    events.forEach((course2) => {\n      if (course1.title !== course2.title && overlap(course1, course2)) {\n        overlapDeteced = true\n      }\n    })\n  })\n  if (scheduleOverlap !== overlapDeteced) {\n    if (overlapDeteced) {\n      // toast.error(\"There are some schedule conflicts!\", {\n      //   toastId: 1\n      // })\n      console.log('Schedule conflict');\n    }\n    setScheduleOverlap(overlapDeteced)\n  }\n\n  return (\n  <FullCalendar\n    plugins={[ timeGridPlugin ]}\n    initialView=\"timeGridWeek\"\n    events = {events}\n    slotMinTime = \"07:00\"\n    slotMaxTime = \"21:00\"\n    scrollTime = \"09:00\"\n    hiddenDays = {[0]}\n    expandRows = {true}\n    allDaySlot = {false}\n    headerToolbar = {\n      ({\n        start: \"\",\n        center: \"\",\n        end: \"\"\n      })\n    }\n    dayHeaderFormat = { {weekday: 'short' }}\n  />\n  )\n}\n\nexport default Calendar\n","import { courseData } from '../data'\nimport { RootState } from './index'\n\nexport const selectTerm = (state: RootState) => state.term.value\n\nexport const selectCurrentTerm = (state: RootState) => courseData[state.term.value]\n\nexport const selectCurrentSelectedCourseIds = (state: RootState) => \n  state.selectedCourses.value.filter(\n    course => {\n      const term = state.term.value\n      const idList = courseData[term].map(course => course.id)\n      return idList.includes(course.id)\n    }\n  )","import { createSlice } from \"@reduxjs/toolkit\";\nimport { Course } from \"../data\";\nimport { getRarestColor } from \"../utils/colors\";\n\nexport interface SelectedCourseState {\n  id: string,\n  selected: boolean,\n  visible: boolean,\n  color: string\n}\n\nconst initalState: SelectedCourseState[] = []\n\nconst selectedCourses = createSlice({\n  name: 'selectedCourses',\n  initialState: {\n    value: initalState\n  },\n  reducers: {\n    toggleSelection: (state, action) => {\n      const {id} = action.payload\n      const isSelected = (state.value.filter(course => course.id === id).length > 0)\n      if (!isSelected) {\n        state.value.push({\n          'id': id,\n          'selected': true,\n          'visible': true,\n          'color': getRarestColor(state.value.map(course => course.color))\n        })\n      } else {\n        state.value = state.value.filter(course => course.id !== id)\n      }\n    },\n    toggleVisibility: (state, action) => {\n      const {id} = action.payload\n      const isSelected = (state.value.filter(course => course.id === id).length > 0)\n      if (isSelected) {\n        state.value = state.value.map(course => (\n          course.id === id\n          ? {...course, visible: !course.visible}\n          : course\n        ))\n      } else {\n        console.log('Warning: Toggle visibility of a non-existing course');\n      }\n    },\n    setColor: (state, action) => {\n      const {id, color} = action.payload\n      const isSelected = (state.value.filter(course => course.id === id).length > 0)\n      if (isSelected) {\n        state.value = state.value.map(course => (\n          course.id === id\n          ? {...course, color: color}\n          : course\n        ))\n      } else {\n        console.log('Warning: Set color of a non-existing course');\n      }\n    }\n  }\n})\n\nexport default selectedCourses.reducer\n\nexport const {toggleSelection, toggleVisibility, setColor} = selectedCourses.actions","import { useState } from \"react\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { setColor } from \"../../store/selectedCoursesSlice\"\nimport { TwitterPicker } from \"react-color\"\nimport {COLORS} from '../../data/'\nimport './ColorPicker.scss'\n\nconst ColorPicker = ({ courseId }) => {\n    const [changing, setChanging] = useState(false)\n    const color = useSelector(state => state.selectedCourses.value\n        .filter(course => course.id === courseId)[0].color)\n    const dispatch = useDispatch()\n\n    const changeColor = (color) => {\n        dispatch(setColor({ id: courseId, color: color.hex }))\n        setChanging(false)\n    }\n    return (\n        <div className='me-2'>\n            <div className=\"dropdown\">\n                <button className=\"btn p-3 m-1\" style={({ backgroundColor: color })}\n                    onClick={() => { setChanging(!changing) }}\n                />   \n                {\n                    changing\n                    ? <TwitterPicker\n                        colors={COLORS.sort()}\n                        onChangeComplete={changeColor}\n                        width=\"18rem\"\n                        triangle=\"hide\"\n                        className=\"position-absolute twitter-picker border\"\n                    />\n                    : <></>\n                }\n            </div>\n        </div>\n    )\n}\n\nexport default ColorPicker","import { useDispatch } from \"react-redux\"\nimport { Link } from \"react-router-dom\"\nimport { toggleSelection, toggleVisibility } from \"../../store/selectedCoursesSlice\"\nimport { getCourse } from \"../../utils/course\"\nimport ColorPicker from \"./ColorPicker\"\nimport './SelectedCourses.scss'\n\nconst CreditCount = ({selectedCourses}) =>{\n  const credits = selectedCourses.reduce((preValue, curValue) => {\n    const courseInfo = getCourse(curValue.id)\n    const val = parseInt(courseInfo.credits)\n    return preValue + (curValue.visible ? val : 0)\n  } , 0\n  )\n\n  return (\n    <div className=\"fw-bold\">\n      <span className=\"d-inline d-sm-none d-lg-inline\"> </span> Credits: {credits}\n    </div>\n  )\n}\n\nconst SelectedCourses = ({selectedCourses}) => {\n  const dispatch = useDispatch()\n\n  return (\n  <div className=\"selected-course-list d-flex flex-column overflow-scroll mt-2\">\n    {\n      selectedCourses\n      .map(course => {\n        const info = getCourse(course.id)\n        return {...course, title: info.title, instructor: info.instructor}\n      })\n      .sort((a, b) => a.title.localeCompare(b.title))\n      .map((course) => (\n        // A COURSE\n        <div className=\"selected-course d-flex flex-row justify-content-between align-items-start mt-2 pb-2\" key={course.id}> \n          {/* INFORMATION */}\n          <div className=\"info flex-grow-1 d-flex flex-column text-start\">\n            <Link className=\"fw-bold text-decoration-none\"\n              to={`/courses/${course.id}`}\n            >\n              {course.title}\n            </Link>\n            <div className='d-flex flex-row align-items-center mt-2'>\n              <ColorPicker courseId={course.id}/>\n              <div className='d-flex flex-column'>\n                <small className=\"selected-instructor\"> {course.id} | {course.instructor} </small>\n              </div>\n            </div>\n          </div>\n          {/* EDIT BUTTONS */}\n          <div className=\"togglers d-flex flex-column\">\n            <div \n              className=\"btn eye\"\n              onClick={() => dispatch(toggleVisibility({id: course.id}))}\n            >\n              {course.visible ? \n              <i className=\"fas fa-eye \"></i> : <i className=\"fas fa-eye-slash \"></i>}\n            </div>\n            <div \n              className=\"btn trash\"\n              onClick={() => dispatch(toggleSelection({id: course.id}))}\n            >\n              <i className=\"fas fa-trash \"></i>\n            </div>\n          </div>\n        </div>\n      ))   \n    }    \n  </div>\n  )\n}\n\nexport {SelectedCourses, CreditCount}","import {useEffect, useState} from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { toggleSelection } from '../../store/selectedCoursesSlice'\nimport { selectCurrentTerm } from '../../store/selectors'\nimport { isSelected } from '../../utils/course'\nimport './Searcher.scss'\n\n\nconst Searcher = () => {\n  const [ filter, setFilter ] = useState('')\n  const [ focusItem, setFocusItem ] = useState(0)\n  const dispatch = useDispatch()\n  const selectedCourses = useSelector(state => state.selectedCourses.value)\n  const courses = useSelector(selectCurrentTerm)\n\n  let matchedCourses = []\n  let nVisibleCourses = 0\n\n  const handleArrowDown = () => {\n    setFocusItem((focusItem + 1) % nVisibleCourses)\n  }\n\n  const handleArrowUp = () => {\n    setFocusItem((focusItem + nVisibleCourses - 1) % nVisibleCourses)\n  }\n\n  const collapseSuggestions = () => {\n    changeText(\"\")\n    document.getElementById('search-input').value = \"\"\n  }\n\n  const handleShortcuts = (event) => {\n    if (event.key === 'Escape') {\n      collapseSuggestions()\n    }\n  }\n\n  useEffect(() => {\n    window.addEventListener('keydown', handleShortcuts)\n\n    return () => {\n      window.removeEventListener('keydown', handleShortcuts)\n    }\n  })\n\n  const changeText = (text) => {\n    setFilter(text);\n    setFocusItem(0);\n  }\n\n  const onInputChanged = (event) => {\n    const text = event.target.value;\n    changeText(text);\n  }\n\n  const onCourseToggle = (id) => {\n    dispatch(toggleSelection({id}))\n    collapseSuggestions()\n  }\n  \n  // search appearances\n  const CourseInfo = (course) => {\n    return (\n      <div className=\"d-flex flex-row justify-content-between align-items-center\">\n        <div className=\"course-id text-sm\">{course.id.split(\"_\")[0]}</div>\n        <div className=\"mx-1 course-title\">{course.title}</div>\n        <div className=\"instructor-name text-sm mx-1 border-left\">{course.instructor}</div>\n      </div>\n    )\n  }\n  \n  // compare input to course data\n  const CourseList = () => {\n    matchedCourses = courses.filter((course) => \n      (course.title + \"|\" + course.instructor + \"|\" + course.id) //course.id.split(\"_\")[0]) to exclude _Fall2021_... part\n      .toLowerCase().includes(filter.toLowerCase())\n    )\n\n    if (matchedCourses.length === 0) {\n      return (<button className=\"list-group-item\">No courses matched.</button>)\n    } else {\n      nVisibleCourses = Math.min(5, matchedCourses.length)\n      return matchedCourses\n        .slice(0, nVisibleCourses)\n        .map((course) => \n          <button \n            className={`\n              px-0 list-group-item\n              ${isSelected(selectedCourses, course.id) ? \"fw-bold\" : \"\"}\n              ${isFocused(course.id) ? \"focus\" : \"\"}\n            `}\n            onClick={() => onCourseToggle(course.id)}\n            key={course.id}\n          >\n            {CourseInfo(course)}\n          </button>\n        )\n    }\n  }\n\n  const isFocused = (id) => (matchedCourses[focusItem].id === id)\n  \n  return (\n    <div className=\"filter position-relative\">\n      <input \n        className=\"form-control py-2\" \n        id=\"search-input\"\n        placeholder=\"Add courses to schedule\"\n        autoComplete=\"off\"\n        onChange={onInputChanged} \n        onKeyDown={(event) => {\n          // TODO: refactor\n          if (event.key === 'ArrowUp') {\n            handleArrowUp()\n          } else if (event.key === 'ArrowDown') {\n            handleArrowDown()\n          } else if (event.key === 'Enter') {\n            if (matchedCourses.length === 0) {\n              return \n            }\n            onCourseToggle(matchedCourses[focusItem].id)\n          }\n        }}\n      />\n      {\n        filter !== \"\" ?\n          <div className=\"selecting list-group shadow position-absolute w-100\">\n            <CourseList/>\n            {/* <p className=\"list-group-item\"> {matchedCourses.length} courses matched. </p> */}\n          </div>\n        : <></>\n      }\n    </div>\n  )\n}\n\nexport default Searcher","import React from 'react'\nimport ical from 'ical-generator'\nimport { selectTerm } from '../../store/selectors';\nimport { useSelector } from 'react-redux';\nimport trimesterInfo from '../../data/trimester_info.json'\nimport { getCourse } from '../../utils/course';\n\nconst time_location = \"Asia/Ho_Chi_Minh\";\nconst short_days = {\n    'Monday': 'mo',\n    'Tuesday': 'tu',\n    'Wednesday': 'we',\n    'Thursday': 'th',\n    'Friday': 'fr',\n    'Saturday': 'sa',\n    'Sunday': 'su'\n}\nconst num_days = {\n    'Monday': 0,\n    'Tuesday': 1,\n    'Wednesday': 2,\n    'Thursday': 3,\n    'Friday': 4,\n    'Saturday': 5,\n    'Sunday': 6\n}\n\nfunction downloadUrl(blob, filename) {\n    const link = document.createElement('a');\n    if (window.navigator.msSaveOrOpenBlob) {\n      window.navigator.msSaveOrOpenBlob(blob, filename);\n    } else {\n      const objectUrl = URL.createObjectURL(blob);\n      link.download = filename;\n      link.href = objectUrl;\n      link.dispatchEvent(new MouseEvent('click'));\n      URL.revokeObjectURL(objectUrl);\n    }\n  }\n\nfunction downloadCalendar(selectedCourses, cur_term_info) {\n    let list_of_events = []\n    //Info about current semester\n    const start_date_term = new Date(cur_term_info['start_date'])\n    const end_date_term = new Date(cur_term_info['end_date'])\n    //For each course\n    for (let each_courses of selectedCourses) {\n        if (!each_courses.visible) {\n            continue\n        }\n        let course_info = getCourse(each_courses.id)\n        let course_schedule = course_info.schedule\n        let course_title = course_info.title\n\n        //check if course has same time slot for different day\n        let same_time = true;\n        if (course_schedule.length > 0) {\n            let start_time = course_schedule[0]?.start_time\n            let end_time = course_schedule[0]?.end_time\n            for (let each_slot of course_schedule) {\n                let start_time_day = each_slot['start_time']\n                let end_time_day = each_slot['end_time']\n                if (! (start_time == start_time_day && end_time == end_time_day)) { //different timeslot\n                    same_time = false\n                    break\n                }\n            }\n        }\n        else {  // course have no schedule yet, exit to prevent bug\n            continue;\n        }\n\n        //same time slot => merge into single events for convenience\n        if (same_time) {\n            let each_time = course_schedule[0]\n            let meet_day = each_time['day']\n            let start_time = each_time['start_time']\n            let end_time = each_time['end_time']\n            //By ical convention: set event for first day, then add repeat later. Assume that week day is in order (i.e Tue as [0], Thu as [1])\n            let first_day = new Date(start_date_term.getFullYear(),start_date_term.getMonth(),start_date_term.getUTCDate()+num_days[meet_day])\n            first_day = first_day.toISOString().slice(0,10)\n            let first_session_start = new Date(first_day+\"T\"+start_time)\n            let first_session_end = new Date(first_day+\"T\"+end_time)\n            let repeat_date = []\n            for (let each_slot of course_schedule) {\n                let each_meet_day = each_slot['day']\n                repeat_date.push(short_days[each_meet_day])\n            }\n            //Standard ical format\n            let current_event = {\n                start: first_session_start,\n                end: first_session_end,\n                time_stamp: new Date(),\n                timezone: time_location,\n                summary: course_title,\n                repeating: {\n                    freq: 'WEEKLY',\n                    until: end_date_term,\n                    byDay: repeat_date,\n                }\n            }\n            list_of_events.push(current_event)\n        }\n        //Course might have several time -> treat each different time slot as different events\n        else {\n            for (let each_time of course_schedule) {\n                //Meet_day: thứ\n                let meet_day = each_time['day']\n                let start_time = each_time['start_time']\n                let end_time = each_time['end_time']\n                //By ical convention: set event for first day, then add repeat later\n                let first_day = new Date(start_date_term.getFullYear(),start_date_term.getMonth(),start_date_term.getUTCDate()+num_days[meet_day])\n                first_day = first_day.toISOString().slice(0,10)\n                let first_session_start = new Date(first_day+\"T\"+start_time)\n                let first_session_end = new Date(first_day+\"T\"+end_time)\n                //Standard ical format\n                let current_event = {\n                    start: first_session_start,\n                    end: first_session_end,\n                    time_stamp: new Date(),\n                    timezone: time_location,\n                    summary: course_title,\n                    repeating: {\n                        freq: 'WEEKLY',\n                        until: end_date_term,\n                        byDay: [short_days[meet_day]],\n                    }\n                }\n                list_of_events.push(current_event)\n            }\n        }\n    }\n    console.log(list_of_events)\n    const cal = ical({\n        events: list_of_events\n    });\n    const blob = new Blob([cal.toString()], { type: 'text/plain' }); \n    const time_stamp = (new Date()).toISOString().slice(0,19);\n    const file_name = 'Fulbright-calendar_' + time_stamp + '.ics'\n    downloadUrl(blob, file_name)\n}\n\nconst ExportCalendar= (props) => {\n    const cur_term_info = trimesterInfo.filter(term => term['name'] == useSelector(selectTerm))[0]\n    return (\n    <button type=\"button\" className=\"btn btn-white \" \n        onClick={() => {downloadCalendar(props.selectedCourses, cur_term_info)}}>\n        <i className=\"fa fa-calendar me-3\" aria-hidden=\"true\"></i>\n        Calendar file (ics)\n    </button>\n    )\n}\n\nexport default ExportCalendar\n\n","import React from 'react';\n// import { exportComponentAsJPEG} from 'react-component-export-image';\nimport ExportCalendar from './ExportCalendar';\n\nimport './ExternalExporter.scss';\nimport '../utils/index.scss'\n\n\n// const jpgFilePropoties = {\n//     fileName : \"Fulbright-course-calendar.jpg\",\n//     html2CanvasOptions: {\n//       allowTaint: true,\n//       useCORS: true,\n//       logging: false,\n//       height: 722,\n//       windowHeight: 722, \n//     }\n// }\n\nconst ExternalExporter = (props) => {\n  return (\n  <div className=\"dropdown\">\n      <button className=\"btn cta dropdown-toggle float-left\"\n       type=\"button\" id=\"dropdownMenuButton1\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n        <i className=\"fa fa-download me-2\" aria-hidden=\"true\"></i>\n      </button>\n      <ul className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton1\">\n        {/* <li>\n          <button type=\"button\" className=\"btn btn-white \" \n            onClick={() => {exportComponentAsJPEG(props.componentRef, jpgFilePropoties)}}>\n            <i className=\"fa fa-file-image-o me-3\" aria-hidden=\"true\"></i>\n            Image file (jpg)\n          </button>\n        </li> */}\n\n        <li>\n          <ExportCalendar selectedCourses={props.selectedCourses}></ExportCalendar>\n        </li>\n      </ul>\n    </div>\n  )\n}\n\nexport default ExternalExporter\n\n\n//Future\n// function saveAsPDF() {\n//   html2canvas($('div.panel.panel-default'), {\n//       onrendered: function (canvas) {\n//           var wid;\n//           var hgt;\n//           var img = canvas.toDataURL(\"image/png\", wid = canvas.width, hgt = canvas\n//           .height); //image data of canvas\n//           var hratio = hgt / wid;\n//           var doc = new jsPDF({\n//               orientation: \"landscape\"\n//           });\n//           var width = doc.internal.pageSize.width;\n//           var height = doc.internal.pageSize.height;\n//           var height = width * hratio;\n//           doc.addImage(img, 'JPEG', width*.025, 20, width*.95, height*.95);\n//           doc.save('AssetComparison.pdf');\n//       }\n//   });\n// }","import {SelectedCourses, CreditCount} from './SelectedCourses'\nimport Searcher from './Searcher'\nimport DownloadBtn from './ExternalExporter'\nimport './InfoBar.scss'\n\n\nconst InfoBar = ({selectedCourses,calendarRef}) => {\n\n  return (\n    <div className='info-bar d-flex flex-column'>\n      <Searcher />\n      \n      <SelectedCourses\n        selectedCourses={selectedCourses}\n      />\n\n      <div className=\"toolbar w-100 justify-content-between d-flex mt-auto border border-primary border-1 rounded\">\n          <div className=\"my-auto mx-auto text-left\">\n            <CreditCount \n              selectedCourses={selectedCourses}\n            />\n          </div>\n\n          <div className=\"d-none d-md-block\">\n            <DownloadBtn\n              className=\"calendar-exporter\" \n              componentRef={calendarRef}\n              selectedCourses={selectedCourses}>\n            </DownloadBtn>\n          </div>\n          \n      </div>\n    </div>\n  )\n}\n\nexport default InfoBar","import React, {useRef} from 'react'\nimport Calendar from './Calendar'\nimport './index.scss'\nimport { selectCurrentSelectedCourseIds } from '../../store/selectors'\nimport { useSelector } from 'react-redux'\nimport { Helmet } from 'react-helmet'\nimport InfoBar from './InfoBar'\n\nconst Schedule = () => {\n  const currentCourseSelection = useSelector(selectCurrentSelectedCourseIds)\n  const calendarRef = useRef()\n\n  return (\n    <div className='row w-100 m-0'>\n      <Helmet>\n        <title>OneSchedule</title>\n      </Helmet>\n\n      {/* COLLAPSABLE INFO BAR - FOR SMALL DEVICES */}\n      <div className=\"d-lg-none d-block mb-3\">\n        <button className=\"btn btn-primary\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#collapsable-info-bar\" aria-expanded=\"false\" aria-controls=\"collapsable-info-bar\">\n          Edit schedule\n        </button>\n        <div className=\"collapse mt-3\" id=\"collapsable-info-bar\">\n          <InfoBar\n            selectedCourses={currentCourseSelection}\n          />\n        </div>\n      </div>\n\n      {/* CALENDAR  */}\n      <div ref={calendarRef} className=\"col-lg-9\">\n        <Calendar\n          selectedCourses={currentCourseSelection} \n        />\n      </div>\n      \n      {/* PERSISTENT INFO BAR - FOR LARGE DEVICES */}\n      <div className=\"d-lg-inline-block d-none col-3\">\n        <InfoBar\n          selectedCourses={currentCourseSelection}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default Schedule\n","import React from \"react\"\nimport { useDispatch } from \"react-redux\"\nimport { toast } from \"react-toastify\"\nimport { toggleSelection } from \"../../store/selectedCoursesSlice\"\n\nconst AddDropBtn = ({course, preStatus}) => {\n  const dispatch = useDispatch()\n\n  const onToggleSelection = () => {\n    dispatch(toggleSelection({id: course.id}))\n    toast.success(preStatus ? 'Course removed!' : 'Course added!', {\n      autoClose: 2000\n    })\n  }\n\n  return (<div className={`cta ${preStatus ? 'bg-warning text-dark' : ''} flex-shrink-2`}\n    onClick={onToggleSelection}\n  > \n    { preStatus ? 'Remove' : 'Add' }\n  </div>)\n}\n\nexport default AddDropBtn","import { Link } from \"react-router-dom\"\nimport { getCategories, isSelected } from \"../../utils/course\"\nimport AddDropBtn from \"../utils/AddDropBtn\"\n\nconst TableView = ({filteredCourses, selectedCourses}) => {\n  return <table className='table table-hover table-bordered align-middle'>\n    <thead className='table-light'>\n      <tr>\n        <th className='d-none d-md-table-cell'>ID</th>\n        <th className='d-none d-md-table-cell'>Categories</th>\n        <th>Title</th>\n        <th className='d-none d-md-table-cell'>Instructor</th>\n        <th> Action </th>\n      </tr>\n    </thead>\n    <tbody>\n      {filteredCourses.map(course => (\n        <tr key={course.id}>\n            <td className='d-none d-md-table-cell'> \n              {course.id}\n            </td>\n            <td className='d-none d-md-table-cell'>{getCategories(course)}</td>\n            <td>\n              <Link to={`/courses/${course.id}`} \n                className='text-decoration-none fw-bold' \n              >\n                {course.title}\n              </Link>\n            </td>\n            <td className='d-none d-md-table-cell' >\n              {course.instructor}\n            </td>\n            <td>\n              <AddDropBtn course={course} preStatus={isSelected(selectedCourses, course.id)} /> \n            </td>\n        </tr>\n      ))}\n    </tbody>\n  </table>\n}\n\nexport default TableView","import { Link } from \"react-router-dom\"\n\nconst CourseCard = ({course}) => {\n  return <Link \n    to={`/courses/${course.id}`}\n    className='course-card d-flex flex-column align-items-center m-4 shadow overflow-hidden'\n  >\n    <div className='thumbnail p-2 w-100 flex-shrink-0 d-flex justify-content-center align-items-center'>\n      <h5 className='thumbnail-text multiple-lines'>{course.id}</h5>\n    </div>\n    <div className='d-flex flex-column align-items-start p-3 text-start'>\n      <div className='fw-bold  mb-2'>{course.title}</div>\n      <div>{course.instructor}</div>\n    </div>\n  </Link>\n}\n\n\nconst GalleryView = ({filteredCourses}) => {\n  return <div className='d-flex flex-row flex-wrap justify-content-center'>\n    {filteredCourses.map(course => (\n      <CourseCard course={course} key={course.id}/>\n    ))}\n  </div>\n}\n\nexport default GalleryView","import { Dispatch, SetStateAction } from 'react'\nimport { useSelector } from 'react-redux'\nimport Select, { Options } from 'react-select'\nimport { selectCurrentTerm } from '../../store/selectors'\nimport { CATEGORIES, LEVELS, MAJORS } from '../../utils/course'\n\n// type StringStateSetter = Dispatch<SetStateAction<string>>\n\n// interface FilterProps {\n//   majorFilter: string,\n//   setMajorFilter: StringStateSetter,\n//   instructorFilter: string,\n//   setInstructorFilter: Dispatch<SetStateAction<string>>,\n//   levelFilter: string,\n//   setLevelFilter: Dispatch<SetStateAction<string>>,\n//   categoryFilter: string,\n//   setCategoryFilter: Dispatch<SetStateAction<string>>\n// }\n\n// const fooOptions: Options<string> = ['abc']\n\nconst Filter = (props) => {\n  const courses = useSelector(selectCurrentTerm)\n  // Instructor options for filter\n  // NOTE: Majors and levels are saved as constants\n  const instructors = courses\n    .map(course => course.instructor)\n    .filter((value, index, self) => self.indexOf(value) === index)\n    .map(name => ({value: name, label: name}))\n\n  return (\n    <div className='bg-light mt-3 p-3 border rounded collapse show' id='collapsable-filters'>\n      <h4 className='border-bottom pb-1'>Filters</h4>\n\n      <div className='d-flex flex-column align-items-center'>\n        <div className='filter-card d-flex flex-column'>\n          <div className='mb-1'>Majors</div>\n          <Select options={MAJORS} isMulti \n          value={props.majorFilter}\n          onChange={props.setMajorFilter}\n          />\n        </div>\n\n        <div className='filter-card d-flex flex-column mt-3'>\n          <div className='mb-1'>Instructors</div>\n          <Select options={instructors} isMulti\n          onChange={props.setInstructorFilter}\n          value={props.instructorFilter}\n          />\n        </div>\n\n        <div className='filter-card d-flex flex-column mt-3'>\n          <div className='mb-1'>Levels</div>\n          <Select options={LEVELS} isMulti\n          onChange={props.setLevelFilter}\n          value={props.levelFilter}\n          />\n        </div>\n\n        <div className='filter-card d-flex flex-column mt-3'>\n          <div className='mb-1'>Categories</div>\n          <Select options={CATEGORIES} isMulti\n          onChange={props.setCategoryFilter}\n          value={props.categoryFilter}\n          />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Filter","import {useState, useEffect} from 'react'\nimport { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\nimport { AppDispatch, RootState } from '../store';\n\n// Persisted state by saving to local storage\nexport function usePersistedState(key: string, defaultValue: string | number) {\n  const tmp = localStorage.getItem(key)\n  const [state, setState] = useState(\n    () => tmp ? JSON.parse(tmp) : defaultValue\n  );\n  useEffect(() => {\n    localStorage.setItem(key, JSON.stringify(state));\n  }, [key, state]);\n  return [state, setState];\n}\n\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\nexport const useAppDispatch: () => AppDispatch = useDispatch\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector","import React, { useState } from 'react'\nimport './index.scss'\nimport { getLevel, getMajor } from '../../utils/course'\nimport { useSelector } from 'react-redux'\nimport moment from 'moment'\nimport config from '../../utils/config'\nimport { selectCurrentSelectedCourseIds, selectCurrentTerm, selectTerm } from '../../store/selectors'\nimport { Helmet } from 'react-helmet'\nimport TableView from './TableView'\nimport GalleryView from './GalleryView'\nimport Filter from './Filter'\nimport { usePersistedState } from '../../hooks'\n\nconst Offerings = () => {\n  const [compact, setCompact] = useState(true)\n  const selectedCourses = useSelector(selectCurrentSelectedCourseIds)\n  const courses = useSelector(selectCurrentTerm)\n  const term = useSelector(selectTerm)\n\n  const [majorFilter, setMajorFilter] = usePersistedState('majorFilter', [])\n  const [instructorFilter, setInstructorFilter] = usePersistedState('instructorFilter', [])\n  const [levelFilter, setLevelFilter] = usePersistedState('levelFilter', [])\n  const [categoryFilter, setCategoryFilter] = usePersistedState('categoryFilter', [])\n\n  const getFilteredCourses = () => {\n    const oneFilter = (filterList, courses, getDetail, manyToMany = false) => {\n      if (filterList.length !== 0) {\n        return courses.filter(course => {\n          // Determine if a course passes the filterList\n          const matchers = filterList\n            .map(obj => obj.value)\n          if (manyToMany) {\n            return matchers.filter(matcher => getDetail(course).includes(matcher))\n              .length > 0\n          } else {\n            return matchers.includes(getDetail(course))\n          }\n        })\n      } else {\n        return courses\n      }\n    }\n    let ret = courses\n    console.log(instructorFilter.length, majorFilter.length, levelFilter.length, categoryFilter.length);\n    // Filter the course list over 3 filters\n    ret = oneFilter(instructorFilter, ret, (course) => course.instructor)\n    ret = oneFilter(majorFilter, ret, (course) => getMajor(course.id))\n    ret = oneFilter(levelFilter, ret, (course) => getLevel(course.id))\n    ret = oneFilter(categoryFilter, ret, (course) => course.categories, true)\n    return ret\n  }\n\n  const filteredCourses = getFilteredCourses()\n\n  const GalleryToggle = () => {\n    return <div className='d-none d-lg-block gallery-view bg-light p-3 border rounded mb-3'>\n      <div className=\"form-check form-switch d-flex flex-row align-items-center\">\n        <input className=\"form-check-input\" type=\"checkbox\" id=\"flexSwitchCheckDefault\"\n          onClick={() => setCompact(!compact)}\n        />\n        <label className=\"form-check-label ms-4\" htmlFor=\"flexSwitchCheckDefault\">Gallery (BETA)</label>\n      </div>\n    </div>\n  }\n\n  // NOTICE: In this component, 'lg' breakpoint is used instead of 'md' as usual.\n  return (\n    <div className='row'>\n      <Helmet>\n        <title>{term} Offerings</title>\n      </Helmet>\n\n      {/* COURSE LIST */}\n      <div className='col-lg-9 order-lg-1 order-2'>\n        <div className=\"alert alert-primary w-100\" role=\"alert\">\n          <b>Last update: {moment(config.last_updated).fromNow()}. </b>\n          When in doubt, please double-check on OneStop.\n        </div>\n        {compact\n          ? <TableView filteredCourses={filteredCourses}\n            selectedCourses={selectedCourses}\n          />\n          : <GalleryView filteredCourses={filteredCourses} />}\n      </div>\n\n    {/* RIGHT BAR: FILTERS */}\n      <div className='right-bar col-lg-3 order-lg-2 order-1'>\n        <GalleryToggle />\n        <button className=\"d-lg-none btn btn-primary\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#collapsable-filters\" aria-expanded=\"true\" aria-controls=\"collapsable-filters\">\n          Filter\n        </button>\n        <Filter\n          majorFilter={majorFilter}\n          instructorFilter={instructorFilter}\n          categoryFilter={categoryFilter}\n          levelFilter={levelFilter}\n          setMajorFilter={setMajorFilter}\n          setInstructorFilter={setInstructorFilter}\n          setCategoryFilter={setCategoryFilter}\n          setLevelFilter={setLevelFilter}\n        />\n\n        <div className='right-bar-course-count my-3 fw-bold'> {filteredCourses.length} course(s) found </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Offerings\n","import React from 'react'\nimport { Helmet } from 'react-helmet'\nimport { useSelector } from 'react-redux'\nimport { useParams, useRouteMatch } from 'react-router-dom'\nimport { getCategories, getCourse, getDescription, getNotes, getSchedule, isSelected } from '../../utils/course'\nimport AddDropBtn from '../utils/AddDropBtn'\nimport './OneCourse.scss'\n\nconst OneCourse = () => {\n  const courseId = useParams().id\n  const course = getCourse(courseId)\n  if (!course) {\n    return <div>\n      <h1>Course not found</h1>\n      <p>If you think this is a bug, let us know!</p>\n    </div>\n  }\n  const selectedCourses = useSelector(state => state.selectedCourses.value)\n  const selected = isSelected(selectedCourses, course.id)\n  \n  const OneStop = () => (\n    <a href={course.url}> {course.id} </a>\n  )\n  const Row = ({header, content}) => {\n    return (\n      <tr>\n        <td className='fw-bold'> {header} </td>\n        <td className='multiple-lines'> {content} </td>\n      </tr>\n    )\n  }\n  \n  return (\n    <div className='text-start m-4'>\n      <Helmet>\n        <title> {course.title} </title>\n      </Helmet>\n      \n      <div className=\"d-flex flex-column border-bottom mb-4 align-items-start\">\n        <div className='d-flex flex-row align-items-end w-100'>\n          <h4 className='flex-grow-1'>\n            {course.id}  \n          </h4>\n          <AddDropBtn course={course} preStatus={selected} />\n        </div>\n\n        <h1 className='display-4'>{course.title}</h1>\n      </div>\n      \n      <div className='d-flex flex-column flex-md-row justify-content-around'>\n        <div className=' multiple-lines col-md-6 order-2 order-md-1'>\n          {getDescription(course)}\n        </div>\n        <div className='flex-grow-1 pb-4 pt-md-0 ms-md-5 order-1 order-md-2'>\n\n          <table className='table table-hover table-bordered'>\n            <tbody>\n              <Row header='Instructor' content={course.instructor} />\n              <Row header='Schedule' content={getSchedule(course)} />\n              <Row header='Location' content={course.location} />\n              <Row header='Categories' content={getCategories(course)} />\n              <Row header='Credits' content={course.credits} />\n              <Row header='OneStop URL' content={<OneStop />} />\n              <Row header='Further notes' content={getNotes(course)} />\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default OneCourse\n","import axios from 'axios'\nimport React, { useEffect, useState } from 'react'\n\ninterface IContributor {\n    html_url: string,\n    login: string,\n    contributions: number,\n    avatar_url: string,\n}\n\nconst Contributor = ({ contributor }: {contributor: IContributor}) => {\n    return (\n        <div className='m-3 text-center'>\n            <div className='cont-img rounded-circle overflow-hidden width'>\n                <img className='w-100' src={contributor.avatar_url} alt='Developer avatar'/>\n            </div>\n            <a\n                href={contributor.html_url}\n                className='fw-bold'\n            >\n                {contributor.login}\n            </a >\n            <div>{contributor.contributions} commit(s)</div>\n        </div>\n    )\n}\n\nconst Contributors = () => {\n    const [contributors, setContributors] = useState<IContributor[]>()\n\n    useEffect(() => {\n        axios.get('https://api.github.com/repos/npnkhoi/oneschedule/contributors')\n            .then((res) => {\n                setContributors(res.data)\n            })\n    }, [])\n\n    if (contributors) {\n        return (\n            <div className='d-flex flex-row flex-wrap'>\n                {contributors\n                    .filter(contributor => contributor.login !== 'pazabol')\n                    .map((contributor) => (\n                        <Contributor contributor={contributor} key={contributor.login} />\n                    ))}\n\n            </div>\n        )\n    } else {\n        return (<div>Loading ...</div>)\n    }\n}\n\nexport default Contributors","import { Helmet } from 'react-helmet'\nimport './index.scss'\nimport Contributors from './Contributors'\n\nconst About = () => {\n  return (\n    <div className='d-flex flex-column text-start m-auto col-lg-8'>\n      <Helmet>\n        <title>About</title>\n      </Helmet>\n\n      <h2 className='my-4'>About this website</h2>\n        <div className='d-flex flex-column flex-md-row align-items-center justify-content-between'>\n          <div className=''>\n            <p>This website is founded by Khoi, a Fulbright CS student. He doesn&apos;t like copying class schedule to paper when selecting courses each semester. Therefore, he built <b>OneSchedule</b> to help visualize <b>schedules</b> in <b>one</b> minute.</p>\n            <p>\n              OneSchedule is not an official channel of Fulbright. It is free, <a href='https://github.com/npnkhoi/oneschedule'>open-source</a>, and maintained by volunteers.\n            </p>\n            <p>\n            This app is inspired by <a href='https://nusmods.com/'>NUSMods</a>.\n            </p>\n          </div>\n        </div>\n        <div>\n        \n        <h5>Our developers</h5>\n        <p>This app would not be possible without these dedicated programmers:</p>\n        <Contributors />\n\n        <h5>Special thanks to</h5>\n        \n        <ul>\n          <li>Le Thuc Minh Chau for being the first person to support this idea.</li>\n          <li> <a href='https://fullstackopen.com/en/'>Full Stack open course</a> from University of Helsinki for teaching Khoi everything about fullstack web development.</li>\n          <li>The kind reviewers -- Huyen Nguyen, Tuong Minh, Binh Giang, chi Duyen (Ann), Dan Tam & Huy Vu, anh Vu Le, and more -- for giving their quality feedback.</li>\n        </ul>\n      </div>\n      <div className=\"w-100 ratio ratio-16x9\">\n        <iframe src=\"https://www.youtube.com/embed/KKc_RMln5UY\" title=\"YouTube video player\" frameBorder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen></iframe>\n      </div>\n    </div>\n  )\n}\n\nexport default About\n","import React from 'react'\nimport './index.scss'\n\nconst CTA = ({link, text}) => {\n  return (\n    <a href={link} className='text-decoration-none'>\n      <div className='cta my-2'>\n        <div className='text-white fw-bold'>{text}</div>\n      </div>\n    </a>\n  )\n}\n\nexport default CTA\n","import { Helmet } from \"react-helmet\"\nimport CTA from \"../utils/CTA\"\n\nconst Contribute = () => {\n  return (\n    <div className='d-flex flex-column text-start m-auto col-lg-8'>\n      <Helmet>\n        <title>Contribute</title>\n      </Helmet>\n      <h2 className='mb-4'>Contribute to OneSchedule</h2>\n      <div className='text-start'>\n      \n        <h5>1. Donate</h5>\n        <p>\n          OneSchedule is free, and will continue to be so. However, it is built entirely by volunteers, who are also busy humans. \n          Therefore, any donation -- big or small -- will be a great encouragement to the developers.\n        </p>\n        <p>\n          It works like this: you donate, then we are happy and motivated, then we improve OneSchedule, then you visualize your schedule better, then you are happy, then you approach your Meaning of Life.\n        </p>\n        <p>\n          Also, we need financial support to deliver more features: nicer domain, classroom map, credit planning, course review, and maybe an ecosystem of apps for Fulbright students. \n          See our issues and upcoming features <a href=\"https://github.com/npnkhoi/oneschedule/issues\">here</a>. We simply need extrinsic motivation to deliver them.\n        </p>\n        <p>Please consider donating to OneSchedule (e.g., 20K VND) via 2 following channels:</p>\n        <ol className=\"border border-primary rounded py-3\">\n          <li>ACB: 7132717 (NGUYEN PHUNG NHAT KHOI, Branch: Nam Sai Gon)\n          </li>\n\n          <li>Momo: 0343059217 (NGUYEN PHUNG NHAT KHOI, don&apos;t judge my avatar)\n          </li>\n        </ol>\n        <p>When you give, don&apos;t forget to leave us a message. Your support will be remembered forever.</p>\n        {/* <div className=\"rounded border p-3\">\n        </div> */}\n\n        <h5>2. Give feedback</h5>\n        <p>If you find a bug in the app, or simpy want to let us know your thoughts, we would love to here it. That is really the easiest way to support this app.</p>\n        <CTA\n          text='Give feedback'\n          link='https://docs.google.com/forms/d/e/1FAIpQLScIRIBsSk_ciXC_peeanPJXyeh7MB56eaGhOvNWWoznSaM_6g/viewform'\n        />\n        <p>\n          Cheers,\n          <br />\n          Khoi\n        </p>\n      </div>\n    </div>\n  )\n}\n\nexport default Contribute\n","import { Switch, Route, useRouteMatch, useParams } from 'react-router-dom'\nimport Schedule from '../Schedule';\nimport Offerings from '../Offerings';\nimport OneCourse from '../Offerings/OneCourse';\nimport About from '../About';\nimport Contribute from '../Contribute';\nimport './Main.scss'\n\nconst Main = () => {\n  return (\n    <div className='main w-100 text-center'>\n      <div className='container-fluid py-3'>\n        <Switch>\n          <Route path='/about'>\n            <About />\n          </Route>\n          <Route path='/contribute'>\n            <Contribute />\n          </Route>\n          <Route path='/courses/:id'>\n            <OneCourse />\n          </Route>\n          <Route path='/courses'>\n            <Offerings />\n          </Route>\n          <Route path='/'>\n            <Schedule />\n          </Route>\n\n        </Switch>\n      </div>\n    </div>\n  )\n}\n\nexport default Main","import React from 'react'\n// import config from '../utils/config'\nimport './Footer.scss'\n\nconst Footer = () => (\n  <div className='d-flex flex-column align-items-center justify-content-center text-center text-white bg-dark py-5'>\n    <span>\n      Designed and built with love by OneSchedule Team.\n    </span>\n    <span>\n      Copyright © 2021 - Present, OneSchedule.\n    </span>\n    <div>\n      <a className='me-3 text-decoration-none text-secondary'href=\"https://github.com/npnkhoi/oneschedule\">Github</a>\n      <a className='me-3 text-decoration-none text-secondary'href=\"https://www.facebook.com/fuv.oneschedule\">Facebook</a>\n      <a className='me-3 text-decoration-none text-secondary'href=\"https://npnkhoi.notion.site/OneSchedule-Updates-c3ce635ee748488a9fa33ecb925e3bdb\">Updates</a>\n      <a className='me-3 text-decoration-none text-secondary'href=\"https://npnkhoi.github.io/#/\">Author</a>\n    </div>\n  </div>\n)\n\nexport default Footer\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport {availableTerms} from '../data'\nimport config from \"../utils/config\";\n\nconst term = createSlice({\n  name: 'term',\n  initialState: {\n    value: config.currentTerm\n  },\n  reducers: {\n    set: (state, action) => {\n      state.value = action.payload\n    },\n    forward: (state) => {\n      const pos = availableTerms.indexOf(state.value)\n      if (pos + 1 < availableTerms.length) {\n        state.value = availableTerms[pos + 1]\n      }\n    },\n    backward: (state) => {\n      const pos = availableTerms.indexOf(state.value)\n      if (pos > 0) {\n        state.value = availableTerms[pos - 1]\n      }\n    }\n  }\n})\n\nexport default term.reducer\nexport const {forward, backward} = term.actions","import { availableTerms } from \"../data\";\n\nexport const getTermId = (term: string) => availableTerms.indexOf(term)\n\nexport const prettyTerm = (term: string) => {\n  const mid = term.search(/\\d/)\n  const head = term.slice(0, mid)\n  const tail = term.slice(mid)\n  return head + ', ' + tail\n}","import { useDispatch, useSelector } from 'react-redux'\nimport { backward, forward } from '../../store/termSlice'\nimport { selectTerm } from '../../store/selectors'\nimport { getTermId, prettyTerm } from '../../utils/term'\nimport { availableTerms } from '../../data'\nimport './TermSwitch.scss'\n\nconst TermSwitch = () => {\n  const term = useSelector(selectTerm)\n  const termId = getTermId(term)\n  const dispatch = useDispatch()\n\n  const isFirst = termId == 0\n  const isLast = termId == availableTerms.length - 1\n  \n\n  return (\n    <div className=\"d-flex flex-row align-items-center text-light border border-light rounded\"\n      aria-label='term switch'\n    >\n      <button className='btn btn-dark'\n        disabled={isFirst}\n        onClick={() => dispatch(backward())}\n      >\n        <i className='fas fa-angle-left '/>\n      </button>\n\n      <span className='flex-grow-1 text-center mx-3'> {prettyTerm(term)}</span>\n\n      <button className='btn btn-dark'\n        disabled={isLast}\n        onClick={() => dispatch(forward())}\n        aria-label='next term'\n      >\n        <i className='fas fa-angle-right '/>\n      </button>\n    </div>\n  )\n}\n\nexport default TermSwitch","import { Link, useLocation } from \"react-router-dom\"\nimport TermSwitch from '../utils/TermSwitch'\nimport './TopNav.scss'\n\ninterface NavLinkProps {\n  label: string,\n  path: string,\n  icon: string,\n  isNew?: boolean\n}\n\nconst NavLink = ({label, path, icon, isNew}: NavLinkProps) => {\n    const location = useLocation()\n    \n    // Detect current view for highlighting\n    const isCurrentView = ('/' + location.pathname.split('/')[1]) === path\n\n    const RedDot = () => {\n      const styles = {\n        width: 12,\n        height: 12,\n        top: -5\n      }\n      return (\n        <div \n          style={styles} \n          className='rounded-circle bg-secondary color-red-300 position-relative'\n        />\n      )\n    }\n\n    return (\n      <Link to={path}\n        className={`nav-item nav-link text-decoration-none p-2 me-3\n          ${(isCurrentView ? 'active' : '')}\n        `}\n      >\n        <div className=\"d-flex flex-row align-items-center\">\n          <i className={`${icon} fa me-2 nav-icon text-center`}/>\n          <span>{label}</span>\n          {isNew ? <RedDot /> : null}\n        </div>\n      </Link>\n    )\n  }\n  \n\nconst TopNav = () => {\n    return <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark sticky-top\">\n        <div className=\"container-fluid\">\n            <Link to='/' className=\"navbar-brand\">OneSchedule</Link>\n            <button className=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                <span className=\"navbar-toggler-icon\"></span>\n            </button>\n            <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\n                <div className=\"navbar-nav\">\n                    <NavLink label='Schedule' path='/' icon='far fa-calendar'/>\n                    <NavLink label='Courses' path='/courses' icon='fas fa-book-open'/>\n                    <NavLink label='Contribute' path='/contribute' icon='fas fa-star' isNew/>\n                    <NavLink label='About' path='/about' icon='fas fa-info'/>\n                    <div className=\"nav-item\">\n                      <TermSwitch />\n                    </div>\n                </div>\n            </div>\n        </div>\n    </nav>\n}\n\nexport default TopNav","import React from 'react'\nimport { HashRouter as Router } from 'react-router-dom'\nimport './App.scss';\nimport Main from './layout/Main';\nimport Footer from './layout/Footer';\nimport TopNav from './layout/TopNav'\n\nfunction App() {\n  return (\n    <Router>\n      <TopNav />\n      <Main />\n      <Footer />\n    </Router>\n  );\n}\nexport default App;\n","import { configureStore } from '@reduxjs/toolkit'\nimport { loadFromLocalStorage } from '../utils/localStorage'\nimport selectedCoursesReducer from './selectedCoursesSlice'\nimport termReducer from './termSlice'\n\n// const currentVersion = localStorage.getItem('version')\n// if (currentVersion !== config.version) {\n//   console.log('Deleting');\n//   const oldData = localStorage.getItem('persistantState')\n//   const timestamp = moment().format()\n//   localStorage.setItem(timestamp, oldData)\n//   localStorage.removeItem('persistantState')\n//   localStorage.setItem('version', config.version)\n// }\n\nconst store = configureStore({\n  reducer: {\n    selectedCourses: selectedCoursesReducer,\n    term: termReducer\n  },\n  preloadedState: loadFromLocalStorage()\n})\nexport default store\n\n// Infer the `RootState` and `AppDispatch` types from the store itself\nexport type RootState = ReturnType<typeof store.getState>\n// Inferred type: {posts: PostsState, comments: CommentsState, users: UsersState}\nexport type AppDispatch = typeof store.dispatch","// load string from localStarage and convert into an Object\n// invalid output must be undefined\nexport function loadFromLocalStorage() {\n  try {\n    const serialisedState = localStorage.getItem(\"persistantState\");\n    if (serialisedState === null) return undefined;\n    return JSON.parse(serialisedState);\n  } catch (e) {\n    console.warn(e);\n    return undefined;\n  }\n}\n\n// convert object to string and store in localStorage\nexport function saveToLocalStorage(state: Record<string, unknown>) {\n  try {\n    const serialisedState = JSON.stringify(state);\n    localStorage.setItem(\"persistantState\", serialisedState);\n  } catch (e) {\n    console.warn(e);\n  }\n}","import './styles/main.scss'\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport store from './store'\nimport {Provider} from 'react-redux'\nimport { saveToLocalStorage } from './utils/localStorage';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nstore.subscribe(() => saveToLocalStorage(store.getState()));\n"],"sourceRoot":""}